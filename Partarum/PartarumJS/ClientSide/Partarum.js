var Qe=Object.defineProperty;var Ze=(d,e,t)=>e in d?Qe(d,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[e]=t;var h=(d,e,t)=>(Ze(d,typeof e!="symbol"?e+"":e,t),t),et=(d,e,t)=>{if(!e.has(d))throw TypeError("Cannot "+t)};var Ye=(d,e,t)=>{if(e.has(d))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(d):e.set(d,t)};var Je=(d,e,t)=>(et(d,e,"access private method"),t);var ie=class{};h(ie,"classes",{HTML:"Partarum/PartarumJS/ClientSide/HTML/HTML.js",Design:"Partarum/PartarumJS/ClientSide/Design/Design.js"});var _=class{constructor(){this.head=document.getElementsByTagName("head")[0],this.preloadClasses=ie.classes}setLinks(){for(let e of Object.keys(this.preloadClasses)){let t=document.createElement("link");t.setAttribute("rel","modulepreload"),t.setAttribute("href",this.preloadClasses[e]),this.head.appendChild(t)}}static init(){return new Promise(e=>{new _().setLinks(),e(!0)})}};var We=class{static getString(e=0){return"0x"+e.toString(16).padStart(14,"0")}static getInt(e){return parseInt(e,16)}static createIndex(e=!1,t=e===!1?1:++We.lastID){return new Fe(t)}},T=We;h(T,"lastID",1);var Fe=class{lastHex=1;constructor(e){this.lastHex=e}*nextID(e){for(;;)this.lastHex++,T.lastID=this.lastHex,yield e===!1?this.lastHex:T.getString(this.lastHex)}next(e=!1){return this.nextID(e).next().value}};var ve=class{constructor(){this.addTopic("withoutTopic")}addTopic(e){this[e]??=new Ue(e),this[e].themeCache??=new Te}hasTopic(e){return this.hasOwnProperty(e)}getTopic(){}removeTopic(){}addTheme(e="withoutTopic",t){return t in this[e].themeCache?!1:(this[e].themeCache[t]=new _e,!0)}getTheme(e,t){return this[e].getTheme(t)}hasTheme(){}removeTheme(){}addTopicMethode(e,t,o,r){}setToMap(e,t,o,r,a){return this[e].themeCache[t][a].set(o,r),this.hasIntoMap(e,t,a,o)}getFromMap(e,t,o,r){return this.hasIntoMap(e,t,r,o)?this[e].themeCache[t][r].get(o):null}getAllFromMap(e,t,o){return this[e].themeCache[t][o]}hasIntoMap(e,t,o,r){return this[e].themeCache[t][o].has(r)}removeFromMap(e,t){return this.themeCache[e].delete(t)}},Te=class{addTheme(e){}getTheme(e){return this[e].entries()}getThemeMap(){}};var _e=class{setMethod(e,t){this[e]=t}addThemeMap(e){let t=Array.isArray(e)?e:[e];for(let o of t)this[o]=new Map}},Ue=class{constructor(e){this.topicName=e}addTheme(e){this.themeCache??=new Te,this.themeCache.addTheme(e)}getTheme(e){return this.themeCache.getTheme(e)}hasMap(){}removeMap(){}};var Ee=class extends WeakMap{topicIDCache=new Map;initiatorIDCache=new Map;idInitiatorCache=new Map;initiatorIDs=T.createIndex();cacheObjects={};hex=T.createIndex();constructor(){super()}setInitiator(e){if(!this.initiatorIDCache.has(e)){let t=this.initiatorIDs.next(!0);this.initiatorIDCache.set(e,t),this.idInitiatorCache.set(t,e),e in this.cacheObjects||(this.cacheObjects[e]=new ve),super.set(this.cacheObjects[e],this.initiatorIDCache.get(e))}return this.initiatorIDCache.get(e)}setTopic(e,t){let o=this.idInitiatorCache.get(t);return this.cacheObjects[o].addTopic(e),this.topicIDCache.set(t,e),this.cacheObjects[o]}hasTopic(e){return this.initiatorIDCache.has(e)||this.idInitiatorCache.has(e)}getTopic(e){return this.cacheObjects[e]}setTheme(e,t,o){let r=this.idInitiatorCache.get(e);return this.cacheObjects[r].addTheme(t,o)}setToMap(e,t,o,r,a,s){let i=this.idInitiatorCache.get(s);this.cacheObjects[i].setToMap(e,t,o,r,a)}getFromMap(e,t,o,r,a){let s=this.idInitiatorCache.get(a);return this.cacheObjects[s].getFromMap(e,t,o,r)}hasIntoMap(e,t,o,r,a){let s=this.idInitiatorCache.get(a);return this.cacheObjects[s].hasIntoMap(e,t,o,r)}getAllFromMap(e,t,o,r){let a=this.idInitiatorCache.get(r);return this.cacheObjects[a].getAllFromMap(e,t,o)}addThemeMap(e,t,o,r){let a=this.idInitiatorCache.get(e);this.cacheObjects[a][t].themeCache[o].addThemeMap(r)}get(e){return super.get(e)}has(e){return super.has(e)}};var w=class{static start(){w.status??=0,w.status!==1&&(w.status=1)}static setCallback(e){w.callback??=[],w.callback.push(e)}static getCallback(){return w.callback}static setRound(){w.roundCounter?w.roundCounter++:w.roundCounter=1}static getRound(){return w.roundCounter}static setStatus(e){if(w.status=e,w.status===1)for(;w.status===1;)console.log("status = 1")}static setSurfacePaths(e){w.surfacePaths=e}static setTemplates(e){w.templates=e}static getTemplate(e){return w.templates[e]}static setTemplatePath(e,t){w.templatePaths??=[],w.templatePaths[e]=t}static isTemplate(e){w.template=e===!0}};var P=class{static init(e=!1){return this.status=e,e===!0&&this.update(),this.status}static update(){let e=this.newcomerTopicSet.values();for(let t of e){this.topicSet.add(t);let o=this.newComerThemesMap.keys();for(let r of o){this.themeMap.set(r,t);for(let a of this.themeMapNames)Partarum.Cache.CacheStorage.addThemeMap(this.initiatorID,t,r,a)}}this.status=!1,this.newcomerTopicSet.clear(),this.newComerThemesMap.clear()}static create(e,t){return this.topicSet??=new Set,this.themeMap??=new Map,this.initiatorID=Partarum.Cache.CacheStorage.setInitiator(this.name),this.setTopic(e),this.setTheme(e,t)}static setTopic(e){return this.newcomerTopicSet??=new Set,this.hasTopic(e)===!1?(Partarum.Cache.CacheStorage.setTopic(e,this.initiatorID),this.newcomerTopicSet.add(e)):this.topicSet.has(e)&&this.newcomerTopicSet.add(e),!0}static hasTopic(e){return Partarum.Cache.CacheStorage.hasTopic(e)}static setTheme(e="withoutTopic",t){this.newComerThemesMap??=new Map;let o=Partarum.Cache.CacheStorage.setTheme(this.initiatorID,e,t);return o&&this.newComerThemesMap.set(t,e),o}static getTheme(e,t){return this.topicCache[e].getTheme(t)}static addCacheMethode(e,t){this.themeMapNames??=[],this.themeMapNames.includes(e)||this.themeMapNames.push(e);let o=["set","get","has","remove"];if(t.length===o.length){for(let s in o){let i=null;switch(o[s]){case"set":i={[t[s]]:(c,l,m,p)=>{let f=this[t[s]].mapName;Partarum.Cache.CacheStorage.setToMap(c,l,m,p,f,this.initiatorID)}},i[t[s]].mapName=e;break;case"get":i={[t[s]]:(c,l,m)=>{let p=this[t[s]].mapName;return Partarum.Cache.CacheStorage.getFromMap(c,l,m,p,this.initiatorID)}},i[t[s]].mapName=e;break;case"has":i={[t[s]]:(c,l,m)=>{let p=this[t[s]].mapName;return Partarum.Cache.CacheStorage.hasIntoMap(c,l,p,m,this.initiatorID)}},i[t[s]].mapName=e;break;case"remove":i={[t[s]]:()=>this.topicCache.removeFromMap()}}let{[t[s]]:n}=i;this[t[s]]=n}let r={getAll:(s,i,n)=>Partarum.Cache.CacheStorage.getAllFromMap(s,i,n,this.initiatorID)};r.getAll.mapName=e;let{["getAll"]:a}=r;this.getAll=a}}};var z=class extends P{static create(e,t){super.create(e,t)}static setStationLoadPageLoadCounter(){z.loadCounter??=0,z.loadCounter++}};var I=class{static create(e){I.modulArray??={}}static setID(e){I.id=e}static setModule(e){I.module=e}static setCondition(){I.conditionObject??={},I.idCounter??=0;let e="round_"+I.idCounter++;return I.conditionObject[e]=[],e}};var U=class extends P{static create(e,t){return super.create(e,t),super.init()===!1&&(super.addCacheMethode("NodeCache",["setNode","getNode","hasNode","removeNode"]),super.init(!0)),{caller:this,topic:e,theme:t,add:(o,r,a=null)=>{Partarum.Cache.HTMLCache.add(e,t,o,r,a)},get:(o,r=!1)=>r===!1?this.getNode(e,t,o):new Promise(a=>{let s=this.getNode(e,t,o),i=setInterval(()=>{s!==null&&(a(s),clearInterval(i))},200)}),create:(o,r)=>U.create(o,r),getAllOfTheme:(o,r)=>this.getAll(o,r,"NodeCache"),has:o=>this.hasNode(e,t,o)}}static add(e,t,o,r,a=null){if(this.hasNode(e,t,o)){let s=this.getNode(e,t,o);if(typeof s!="number"&&typeof s!="string")switch(a){case"append":s.appendChild(r);break;case"after":break;case"before":}else this.setNode(e,t,o,r)}else this.setNode(e,t,o,r)}};var v=class{static create(){v.startCounter(),v.setTemplateProp()}static startCounter(){v.counter??=0,v.roundCounter??={}}static setTemplateProp(e){v.templateProps??=[],e!==void 0&&(v.templateProps[e.name]=e.value)}static zeroCounter(){v.zeroCount??=0,v.zeroCount++}static getTemplateProp(e){return v.templateProps[e]}static getAllTemplateProps(){return v.templateProps}};var N=class extends P{static create(e,t){super.create(e,t),super.init()===!1&&(super.addCacheMethode("handlerCache",["setHandler","getHandler","hasHandler","removeHandler"]),super.addCacheMethode("targetIDCache",["setTargetID","getTargetID","hasTargetID","removeTargetID"]),super.init(!0))}static setEvent(e,t){if(e instanceof Object){let o=e.name??e.eventName,{[o]:r}={[o]:i=>{e.doThat(i)}},a=e.topic,s=e.theme;this.setHandler(a,s,o,r),this.setTargetID(a,s,o,e.targetID)}else{let{[e]:o}={[e]:r=>{t(r)}}}}static getEvent(e,t,o){return N.getHandler(e,t,o)}static getID(e,t){return N.topicCache[t].getTargetID(e)}static getThemeIDs(e,t){return N.topicCache.getAllFromMap(e,t,"targetIDCache")}static removeEvent(e){delete N.topicCache[topic]?.[e]}};var Ie=class extends P{};var Se=class extends P{static create(e,t){super.create(e,t),super.init()===!1&&(super.addCacheMethode("ItemCache",["setItem","getItem","hasItem","removeItem"]),super.addCacheMethode("Timeline",["setItemToTimeline","getItemFromTimeline","hasItemFromTimeline","removeItemFromTimeline"]),super.init(!0))}};var Me=class extends Map{constructor(e){super(),this.topic=e,this.index=Partarum.Helper.Hex.createIndex()}set(e=!0){let t=this.index.next(),o=Partarum.Helper.Hex.getString(t);return super.set(o,e),o}get(e){return this[e]??null}};var V=class extends P{static create(e,t){return console.dir(e),console.dir(t),super.create(e,t),super.init()===!1&&(super.addCacheMethode("CTXCache",["setCTX","getCTX","hasCTX","removeCTX"]),super.addCacheMethode("BoardCache",["setBoard","getBoard","hasBoard","removeBoard"]),super.addCacheMethode("CollectionCache",["setCollection","getCollection","hasCollection","removeCollection"]),super.addCacheMethode("LastDraw",["setLastDraw","getLastDraw","hasLastDraw","removeLastDraw"]),super.init(!0)),{caller:this,topic:e,theme:t,add:(o,r,a=null)=>{V.add(e,t,o,r,a)},get:o=>{let r={caller:this,topic:e,theme:t},a;switch(o){case"CTXCache":a={add:(...s)=>this.setCTX(e,t,...s),get:(...s)=>this.getCTX(e,t,...s),has:()=>this.hasCTX(),remove:()=>this.removeCTX(),...r};break;case"BoardCache":a={add:(...s)=>this.setBoard(e,t,...s),get:(...s)=>this.getBoard(e,t,...s),has:()=>this.hasBoard(),remove:()=>this.removeBoard(),...r};break;case"CollectionCache":a={add:(...s)=>this.setCollection(e,t,...s),get:(...s)=>this.getCollection(e,t,...s),has:(...s)=>this.hasCollection(e,t,...s),remove:()=>this.removeCollection(),...r};break;case"LastDraw":a={add:(...s)=>this.setLastDraw(e,t,...s),get:()=>this.getLastDraw(),has:()=>this.hasLastDraw(),remove:()=>this.removeLastDraw(),...r}}return a},create:(o,r)=>V.create(o,r),getAllOfTheme:(o,r)=>this.getAll(o,r,"NodeCache"),has:o=>this.hasNode(e,t,o)}}add(){}get(){}has(){}remove(){}};var u=class{};h(u,"IndexCache",Me),h(u,"PartarumCache",w),h(u,"WorkingCache",z),h(u,"ImportCache",I),h(u,"DOMCache",v),h(u,"EventCache",N),h(u,"CounterCache",Ie),h(u,"SimpleCache",Se),h(u,"CacheStorage",new Ee),h(u,"HTMLCache",U),h(u,"PlotCache",V);var K=class extends P{static create(e,t){return super.create(e,t),super.init()===!1&&(super.addCacheMethode("LogCache",["setLog","getLog","hasLog","removeLog"]),super.init(!0)),{caller:this,topic:e,theme:t,add:o=>{console.dir("call Log over Object.add()"),this.add(e,t,o)}}}static add(e,t,o){let r=performance.now().toString(),a="0x"+this.lastHex.toString(16).padStart(6,"0");this.timeline[a]={time:r,topic:e,theme:t,message:o},this.setLog(e,t,r,o);let i="0x"+(this.lastHex+1).toString(16).padStart(6,"0");this.lastHex=parseInt(i,16)}static view(){console.table(this.timeline)}};h(K,"timeline",{}),h(K,"lastHex",1);var Le=class{static confirmLink(e,t,o){let r=Object.entries(o).map(a=>a.join("=")).join(",");window.confirm(e)&&window.open(t,"_blank",r)}};var De=class{testObject;isValid(e,t){return e.every(o=>this[o]!==t&&this[o]!==void 0)}merge(e){for(let t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}};var G=class{constructor(e){this.theme=Symbol(e),Partarum.Cache.CounterCache.setTheme(this.theme)}};var X=class{static getGermanDateString(e,t=!1){let o=new Date(this.getValidDateString(e)),r=t===!1?{weekday:"long",year:"numeric",month:"long",day:"numeric"}:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return new Date(o.toUTCString()).toLocaleDateString("de-DE",r)}static getDateFromUTC(e){let t=new Date(this.getValidDateString(e)),o={day:"numeric",month:"numeric",year:"numeric"};return new Date(t.toUTCString()).toLocaleDateString("de-DE",o)}static getValidDateString(e){return e.replace(/ /g,"T")}static getCurrentHour(){return new Date().getHours()}static betweenRanges(e,t,o){return e>t&&e<o}static safeFunction(){}};h(X,"Hex",T),h(X,"Counter",G);var Ke=class{constructor(e){Partarum.ViewKit.displayCache??=new Map,this.groupName=e,this.displays=[]}addDisplay(e,t){return this.displays.push(e),this[e]=new Ae(this.groupName,e,t),Partarum.ViewKit.displayCache.set(e,this.groupName),this[e]}setScrollableElement(e){this.scrollableElement=e}setFocus(e){this.focus=e??!1}},Ge=class extends Ke{constructor(e){super(e)}},Ae=class{constructor(e,t,o){this.groupName=e,this.displayName=t,this.element=o??t,this.classes=[]}setClass(e){this.classes.push(e)}setScrollableElement(e){this.scrollableElement=e}createUrl(e,t){let o="start";return`javascript: Partarum.ViewKit.setIntoView("${this.displayName}", "${e}", "${t??o}").then((resolve)=>{
            if(resolve === false){
            console.dir("Kein Element vorhanden");
            
            } else {
            console.dir("Element vorhanden und Funktion ausgef\xFChrt");
            }
        });`}setViewport(e,t){return this.id=e,this.viewportCache??=new Map,this.viewportCache.set(this.id,{block:t,url:this.createUrl(e,t)}),this}getURL(){return this.viewportCache.get(this.id).url}},Oe=class extends Ae{constructor(e){super(e,e,e),delete this.groupName}setFocus(e){this.focus=e??!1}},y=class{static scrollNow(e,t){return new Promise((o,r)=>{e.scrollIntoView({block:t==="center"||t==="start"?"start":t,behavior:"smooth"}),o(e)})}static scrollBack(e){e.scrollBy({left:0,top:-300,behavior:"smooth"})}static addfocusCache(e){y.focusCache??=[],y.focusCache.push(e)}static removeFocusCache(){y.focusCache.shift().classList.remove("focusBorder")}static setFocusBorder(e){Array.isArray(y.focusCache)&&y.removeFocusCache(),y.addfocusCache(e),e.classList.add("focusBorder")}static getScrollStopped(){return new Promise((e,t)=>{})}static setScrollEvent(e,t){e.addEventListener("scroll",t,!1)}static scrollCallback(e,t,o,r){return a=>{o.removeEventListener("scroll",Partarum.Cache.EventCache.getEvent(e),!1),r==="center"&&o.scrollTop!==t.offsetTop-o.offsetTop&&o!==document&&o.scrollTo({left:0,top:t.offsetTop-o.offsetTop-300,behavior:"smooth"})}}static setIntoView(e,t,o){return new Promise((r,a)=>{let s=document.getElementById(t);if(s){let i=Partarum.ViewKit.displayCache?Partarum.ViewKit.displayCache.get(e):void 0,n=i===void 0?Partarum.ViewKit.displays[e]:Partarum.ViewKit.displays[i][e],c=i===void 0?Partarum.ViewKit.displays[e].focus:Partarum.ViewKit.displays[i].focus,m=(()=>n?.scrollableElement===!1||n?.scrollableElement==="window"?["window",document]:[n.scrollableElement,document.getElementById(n.scrollableElement)])(),p={type:"scroll",topic:m[0],theme:"Viewport",name:n.id+"_scrollTo_"+t,targetID:n.displayName,doThat:y.scrollCallback(m[0],s,m[1],o)};Partarum.Cache.EventCache.create(p.topic,p.theme),Partarum.Cache.EventCache.setEvent(p);let f=Partarum.Cache.EventCache.getEvent(p.topic,p.theme,p.name);m[1].offsetHeight!==m[1].scrollHeight&&y.setScrollEvent(m[1],f),y.displayStatus(s)!==!0&&y.changeDisplay(i,e),y.scrollNow(s,o).then(b=>{c===!0&&y.setFocusBorder(b)}),r(!0)}else r(!1)})}static setDisplayGroup(e){return Partarum.ViewKit.displays??={},Partarum.ViewKit.displays[e]=new Ge(e),Partarum.ViewKit.displays[e]}static setSingleDisplay(e){return Partarum.ViewKit.displays??={},Partarum.ViewKit.displays[e]=new Oe(e),Partarum.ViewKit.displays[e]}static setDisplay(e){return new Oe(e)}static callDisplay(e){let t=Partarum.ViewKit.displays,o=t[e]?Partarum.ViewKit.displays[e]:Partarum.ViewKit.displayCache.get(e);return typeof o!="object"?t[o][e]:t[e]}static displayStatus(e){return[e.clientLeft,e.clientHeight,e.clientTop,e.clientWidth].every(t=>t===0)!==!0}static replaceClass(e,t,o){e.classList.remove(t),e.classList.add(o)}static changeDisplay(e,t){let o=Partarum.ViewKit.displays[e],r=o.displays,a=0,s=[],i=[];for(let n of r)a++,i.push(o[n].classes),s.push(document.getElementById(o[n].element));for(let n=0;n<a;n++)for(let c=0;c<a;c++)s[n].classList.toggle(i[c])}};var Ne=class{static fetchFile(e,t){return new Promise((o,r)=>{fetch(e).then(a=>{switch(t){case"array":return a.arrayBuffer();case"blob":return a.blob();case"json":return a.json();case"text":return a.text();case"form":return a.formData();default:return!1}}).then(a=>{o(a)}).catch(a=>{r(a)})})}static fetchJSONPost(e,t){return new Promise((o,r)=>{fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)}).then(a=>a.json()).then(a=>{o(a)}).catch(a=>{r(a)})})}static fetchImage(e,t){return new Promise((o,r)=>{fetch(e).then(a=>a.blob()).then(a=>{let s=URL.createObjectURL(a),i=document.getElementById(t);i.src=s,console.dir(i),console.dir(s)})})}};var je=class{constructor(e,t=null){this.worker=new Worker(e,t)}getWorker(){return this.worker}};var x=class extends HTMLElement{root={dom:{},app:new Partarum,constructed:!1,initialized:!1,initializedSuper:!1,connected:!1,connectedCallback:function(e){this.initialized===!1&&(this.initialized=!0,e())}};constructor(e,t,o,r){super(),this.root.constructed=!0,this.root.dom=o,this.root.config=e,this.root.name=t,this.root.id=typeof r=="string"?r.replace(" ","_"):""}connectedCallback(){this.root.initializedSuper===!1&&(this.id=this.root.id,this.setConfig(this.root.config,this.root.name),this.root.initializedSuper=!0)}setConfig(e,t,o=this){if(e!==void 0&&"surface"in e&&Reflect.has(e.surface,t)&&Reflect.has(e.surface[t],"style"))for(let r in e.surface[t].style)o.style[r]=e.surface[t].style[r]}initAddElement(e,t,o="shadowBox",r=this.root.config,a="append"){this.root.dom.add(e,t,null),this.setConfig(r,e,t),this.root.dom.add(o,t,a)}add(e,t){this.root.dom.add(t,e,"append")}addTopic(e,t,o){let r=Array.isArray(t)?t:[t];return new Promise(a=>{let s=0;for(let i of r)this.root.dom.add(i,document.createElement(o)),this.root.dom.add(e,this.root.dom.get(i),"append"),s===r.length&&a(!0),s++})}};var He,qe,E=class extends x{constructor(t,o,r){super(t,o,r);Ye(this,He);Je(this,He,qe).call(this)}connectedCallback(){super.connectedCallback()}loadStyle(t){return new Promise(o=>{let r=0,a=!1,s=0,i=!1;if(Reflect.has(t,"link")){let l=Array.isArray(t.link)?t.link:[t.link];for(let m of l){let p=document.createElement("link");p.setAttribute("rel","stylesheet"),p.setAttribute("type","text/css"),p.setAttribute("href",m),this.root.dom.add("shadowBox",p.cloneNode(!0),"append"),r++,a=r===l.length}}else a=!0;if(Reflect.has(t,"style")){let l=Array.isArray(t.style)||t.style instanceof NodeList?t.style:[t];for(let m of l)this.root.dom.add("shadowBox",m.cloneNode(!0),"append"),s++,i=s===l.length}else i=!0;function n(){i===!0&&a===!0&&o(!0)}let c=setInterval(n,100)})}};He=new WeakSet,qe=function(){this.partarum=window.Partarum,this.root.dom=this.partarum.Cache.HTMLCache.create("partarum-host",this.root.name),this.root.dom.add("shadowBox",this.attachShadow({mode:"open"}),null);let t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","/Partarum/css"),this.root.dom.add("shadowBox",t,"append")},h(E,"cache");customElements.get("partarum-host")===void 0&&customElements.define("partarum-host",E);var ne=class extends x{constructor(e,t=null){super(e,"header"),this.id=t||""}addTopic(e){super.addTopic(e,"button")}addMenu(){}addCanvas(){}};customElements.get("partarum-card-box-header")===void 0&&customElements.define("partarum-card-box-header",ne);var ce=class extends x{constructor(e,t,o){super(e,"menu",o,t)}connectedCallback(){super.connectedCallback()}add(e,t){this.root.dom.add(t,e,"append")}addTopic(e,t,o="button",r,a="start"){return new Promise(s=>{let i=Array.isArray(e)?e:[e],n=0;this.root.dom.get("Listener").add("windowScroll",()=>{this.setClickEvent(this)}),window.addEventListener("scroll",this.root.dom.get("Listener").get("windowScroll"),{once:!0});for(let c of i){let l=document.createElement(o),m="button_"+t;l.setAttribute("id",m),l.classList.add("product-category-button");let p="productCategory_"+t;this.root.dom.get("Loader").add(m,p);let b=document.createElement("h3");b.appendChild(document.createTextNode(c)),l.appendChild(b),this.appendChild(l),this.root.dom.add(m,l),n++}s(!0)})}setClickEvent(e){if(console.dir("click"),e.root.dom.get("Loader").get("Status")===0){let o=e.root.dom.getAllOfTheme("CardBox","Loader"),r=Object.fromEntries(o.entries()),a=0;for(let s in r)if(s!=="Status"){let i=e.root.dom.get(r[s]),n=i.data;n.groupButton=s;let c=e.root.dom.get(s);c.addEventListener("click",l=>{console.dir("clcik"),console.dir(l),e.displayCategory(i)}),a===0&&c.click(),a++}e.root.dom.get("Loader").add("Status",1)}else console.dir("is loaded")}displayCategory(e){console.dir(e);let t=e.topic,o=e.data,r=t.id,a=this.root.dom.get("DisplayCategories").get(r),s=this.root.dom.get("DisplayMenu").get(r),i,n=[];if(a===null){n.push(r);let p=this.root.dom.getAllOfTheme("CardBox","Categories");i=Object.fromEntries(p.entries());let f=i[r],b=f.data;switch(f.type){case"WithSubCategories":n.push(b.subCategories[0]),n.push(s.categoryMenu),n.push(s.categoryCanvas);break;case"SubCategories":n.push(b.category),s=this.root.dom.get("DisplayMenu").get(b.category),n.push(s.categoryMenu),n.push(s.categoryCanvas)}this.root.dom.get("DisplayCategories").add(r,[i,n])}else i=a[0],n=a[1];let c=this.root.dom.get("CardDrawBox"),l=this.root.dom.get(s?.categoryCanvas)??this.root.dom.get("canvas");this.root.dom.get("Listener").get("windowResize")===null&&(this.root.dom.get("Listener").add("windowResize",()=>{let p=this.root.dom.get(s?.categoryMenu)?.offsetWidth??this.root.dom.get("productGroupNav").offsetWidth;l.width=p.toString(),this.root.dom.get("canvas").width=p;for(let f of this.root.dom.getAllOfTheme("CardBox","DisplayCategories").entries())c.plotter.clearBoard(l.id,"canvas"),c.plotter.update("setLine",f[0])}),window.addEventListener("resize",this.root.dom.get("Listener").get("windowResize"),!1));for(let p in i){let f=i[p].topic;n.includes(f.id)===!1?f.classList.length!==0?f.classList.contains("grid")&&f.classList.replace("grid","zero"):f.classList.add("zero"):f.classList.length!==0&&f.classList.contains("zero")&&f.classList.replace("zero","grid")}if(l.classList.replace("zero","inline"),s===null)if("category"in o){let p=this.root.dom.get("DisplayMenu").get(o.category);c.plotter.clearBoard(p.categoryCanvas)}else c.plotter.clearBoard("canvas");else"subCategories"in o?c.plotter.clearBoard(l.id,"canvas"):c.plotter.clearBoard(l.id);if(this.root.dom.get("LastDraw").clear(),console.dir(c.plotter.isCollected("setLine",r)),c.plotter.isCollected("setLine",r))l.width===0&&(l.width=this.root.dom.get(s.categoryMenu).offsetWidth),c.plotter.update("setLine",r);else{let p=e.themes;if(Object.keys(p).length!==0){this.root.dom.get("LastDraw").add(r,"");for(let f in p)c.setLines(l,r,this.root.dom.get(o.groupButton),p[f].theme)}else{this.root.dom.get("LastDraw").add(r);for(let O of o.subCategories){let se=this.root.dom.get(O);c.setLines(this.root.dom.get("canvas"),r,this.root.dom.get(o.groupButton),this.root.dom.get(se.data.groupButton))}let f=this.root.dom.get(o.subCategories[0]);this.root.dom.get("LastDraw").add(o.subCategories[0]);let b=f.themes;for(let O in b){let se=b[O].theme,ae=this.root.dom.get(s.categoryCanvas);c.setLines(ae,o.subCategories[0],this.root.dom.get(f.data.groupButton),se)}}}}};customElements.get("partarum-card-box-menu")===void 0&&customElements.define("partarum-card-box-menu",ce);var le=class extends x{constructor(e,t,o,r){super(e,"section",t,o),this.root.cardBoxObject=r}connectedCallback(){super.connectedCallback(),this.id=this.root.id,this.root.title=this.root.cardBoxObject.title,this.root.topicDOM=this.root.dom.get(this.root.cardBoxObject.parent),this.root.themeDOM=Reflect.get(this.root.topicDOM.themes,this.root.cardBoxObject.id),this.root.mainInfoObject=this.root.cardBoxObject.mainInfo??null,this.root.featureObject=this.root.cardBoxObject.features??null,this.loadElements().then()}async loadElements(){await this.setSlogan(),this.root.mainInfoObject!==null&&(await this.setMainInfo(),await this.setLifetime(this.root.mainInfoObject.lifetime),await this.setPrice(this.root.mainInfoObject.price),await this.setLinkPage(this.root.mainInfoObject.link)),this.root.featureObject!==null&&await this.setFeatures(this.root.featureObject)}setSlogan(){return new Promise(e=>{let t=document.createElement("header"),o=document.createElement("h3");o.appendChild(document.createTextNode(this.root.cardBoxObject.title)),t.appendChild(o),this.appendChild(t),e()})}setMainInfo(){return new Promise(e=>{this.root.themeDOM.mainInfo=document.createElement("section"),this.appendChild(this.root.themeDOM.mainInfo),e()})}setLifetime(e){return new Promise(t=>{let o=document.createElement("section");o.classList.add("box-row","box-center");let r=Array.isArray(e)?e:[e];for(let a in r){let s=document.createElement("p"),i=document.createTextNode(r[a]);s.appendChild(i),o.appendChild(s)}this.root.themeDOM.mainInfo.appendChild(o),t()})}setPrice(e){return new Promise(t=>{let o=document.createElement("section");o.classList.add("partarum-card-theme-price");let r=document.createElement("p");r.appendChild(document.createTextNode(e.amount)),o.appendChild(r);let a=document.createElement("p");a.appendChild(document.createTextNode(e.period)),o.appendChild(a),this.root.themeDOM.mainInfo.appendChild(o),t()})}setLinkPage(e){return new Promise(t=>{let o=document.createElement("section"),r=document.createElement("a");r.setAttribute("href",e.href),r.classList.add("beauty-button-link");let a=document.createTextNode(e.text??"Jetzt Registrieren");if(r.appendChild(a),"icon"in e){let s=document.createElement("i");if("class"in e.icon)for(let i of e.icon.class.split(" "))s.classList.add(i);if("position"in e.icon){let i="before";e.icon.position==="before"?a.before(s):a.after(s),s.classList.add(i==="before"?"icon-left":"icon-right")}}o.appendChild(r),this.root.themeDOM.mainInfo.appendChild(o),t()})}setFeatures(e){return new Promise(t=>{let o=document.createElement("footer");o.classList.add("text-setLeft","partarum-card-theme-features"),this.appendChild(o);for(let r in e){let a=document.createElement("section");a.classList.add("partarum-card-theme-feature-box"),o.appendChild(a),this.setList(e[r],a).then()}t()})}setList(e,t){return new Promise(o=>{let r=document.createElement("header");r.className="box-row center";let a=document.createTextNode(e.title);if(r.appendChild(a),t.appendChild(r),"icon"in e){let c=document.createElement("i");c.className=e.icon.class,"position"in e.icon&&this.setIcon(c,a,e.icon.position,e.icon.class)}let s=document.createElement("section");t.appendChild(s);let i=[],n=e.list;for(let c in n)switch(c){case"icon":let l=document.createElement("i");this.setIcon(l,i.at(-1)??null,n.icon.position,n.icon.class),i.push(l);break;default:c.includes("text")&&(i.push(document.createElement("p")),i.at(-1).appendChild(document.createTextNode(n[c])),s.appendChild(i.at(-1)))}o()})}setIcon(e,t,o,r){if(t!==null)switch(e.className=r??"",o){case"before":t.before(e),e.classList.add("icon-left");break;case"after":t.after(e),e.classList.add("icon-right");break;case"middle":t.after(e),e.classList.add("icon-left","icon-right");break;default:t.before(e),e.classList.add("icon-left");break}}};customElements.get("partarum-card-theme-box")===void 0&&customElements.define("partarum-card-theme-box",le);var F=class extends x{cardKey=1;constructor(e,t,o,r){super(e,"section",t,o),this.root.cardBoxObject=r}connectedCallback(){super.connectedCallback(),this.id=this.root.id;let e="display"in this.root.cardBoxObject&&this.root.cardBoxObject.display===!0?"grid":"zero";this.classList.add(e,"grid-auto-column","product-cards-box-shadow"),this.loadElements().then()}async loadElements(){await this.setThemeBoxes()}setThemeBoxes(){return new Promise(e=>{for(let t in this.root.cardBoxObject)switch(t){case"cards":for(let s in this.root.cardBoxObject.cards){this.root.dom.get("Categories").add(this.id,this.root.dom.get(this.id));let i=this.root.cardBoxObject.cards[s];this.addThemeBox(i,s),this.cardKey++}break;case"card":this.addThemeBox(this.root.cardBoxObject.card),this.cardKey++;break;case"subTopic":let o=this.root.dom.get(this.id);o.type="WithSubCategories",o.data={subCategories:[]},this.root.dom.get("Categories").add(this.id,o);let r=this.root.cardBoxObject.subTopic,a=this.root.dom.get("CardBoxObject");for(let[s,i]of a.subBoxes)for(let[n,c]of i.startMenu){let l="productCategory_"+n;this.root.dom.add(l,{themes:{},topic:new F(this.root.config,this.root.dom,l,r[c]),type:"SubCategories",data:{category:this.id}}),o.data.subCategories.push(l),this.appendChild(this.root.dom.get(l).topic)}}e()})}addThemeBox(e,t=this.cardKey){let o=this.root.dom.get(this.id).themes;e.parent=this.id;let a="productCard_"+e.title.replace(" ","_");e.id=a,o[a]={theme:new le(this.root.config,this.root.dom,a,e)},this.appendChild(o[a].theme)}addCanvas(){return new Promise(e=>{e()})}};customElements.get("partarum-card-topic-box")===void 0&&customElements.define("partarum-card-topic-box",F);var de=class extends x{constructor(e,t,o){super(e,"article",o,t),this.cardBoxObject=this.root.dom.get("CardBoxObject")}connectedCallback(){super.connectedCallback(),this.className="box-row box-center",this.loadElements().then()}async loadElements(){await this.addTopicBox()}addTopicBox(){return new Promise(e=>{for(let[t,o]of this.cardBoxObject.topicBoxes){let r="productCategory_"+t;this.root.dom.add(r,{themes:{},topic:new F(this.root.config,this.root.dom,r,o),type:"Categories",data:{}}),this.appendChild(this.root.dom.get(r).topic)}e()})}};customElements.get("partarum-card-topic-body")===void 0&&customElements.define("partarum-card-topic-body",de);var $=class{startMenu=new Map;topicIDs=Partarum.Helper.Hex.createIndex(!0);topicBoxes=new Map;subBoxes=new Map;lastID=1;ready=!1;config={};constructor(e){this.checkConfig(e).then(()=>{this.analyseConfig(this.config.topic).then(()=>{this.ready=!0})})}checkConfig(e){return new Promise(t=>{Array.isArray(e)?this.config.topic=e:this.config=e,t(!0)})}async analyseConfig(e){if(e instanceof Object&&Array.isArray(e))for(let t of e){this.lastID=this.topicIDs.next(!0),this.topicBoxes.set(this.lastID,{});for(let o in t)await this[o==="name"?"topicName":o](t[o])}}checkStatus(){return new Promise(e=>{let t=setInterval(()=>{this.ready===!0&&(e(!0),clearInterval(t))},100)})}topicName(e){return new Promise(t=>{this.startMenu.set(this.lastID,e),t(!0)})}subTopic(e){return new Promise(t=>{let o=Object.entries(e).map(a=>a[1]),r=new $(o);r.checkStatus().then(()=>{this.subBoxes.set(this.lastID,r),this.topicBoxes.get(this.lastID).subTopic=e,t(!0)})})}card(e){return new Promise(t=>{this.topicBoxes.get(this.lastID).card=e,t(!0)})}cards(e){return new Promise(t=>{this.topicBoxes.get(this.lastID).cards=e,t(!0)})}display(e){return new Promise(t=>{this.topicBoxes.get(this.lastID).display=e,t(!0)})}};var he=class extends x{constructor(e,t,o){super(e,t,o,"partarumCardBoxBody")}connectedCallback(){super.connectedCallback(),this.analyseConfig().then(()=>{this.loadElements().then()})}analyseConfig(){return new Promise((e,t)=>{"topic"in this.root.config&&"surface"in this.root.config?(this.cardBoxObject=new $(this.root.config),this.cardBoxObject.checkStatus().then(()=>{e(!0)}),this.root.dom.add("CardBoxObject",this.cardBoxObject)):t()})}async loadElements(){switch(this.root.config?.theme??"classic"){case"classic":await this.setHeader(),await this.setStartMenu(),await this.setSubMenu(),await this.setTopicBody();break;case"noDraw":await this.setHeader(),await this.setStartMenu(!1),await this.setSubMenu(!1),await this.setTopicBody()}}setHeader(){return new Promise(e=>{this.root.dom.add("CardBoxHeader",new ne(this.root.config,"card-box-menu",this.root.dom),null),this.appendChild(this.root.dom.get("CardBoxHeader")),e(!0)})}setStartMenu(e=!0){return new Promise(t=>{let o=this.cardBoxObject.startMenu;this.setMenu("productGroupNav",this.root.config,"productGroupNav").then(()=>{for(let[r,a]of o)this.root.dom.get("productGroupNav").addTopic(a,r,"button",this.root);e===!0&&this.setCanvas("canvas",this.root.dom.get("productGroupNav")).then(()=>{t(!0)})})})}setSubMenu(e=!0){return new Promise(t=>{let o=this.cardBoxObject.subBoxes,r=0,a=this.root.dom.get("DisplayMenu"),s=this.root.dom.get("Categories");for(let[i,n]of this.cardBoxObject.subBoxes){let c="categoryMenu_"+i,l="categoryCanvas_"+i;a.add("productCategory_"+i,{categoryMenu:c,categoryCanvas:l});let m={},p={},f=n.startMenu,b=0;this.setMenu(c,n.config,c).then(()=>{for(let[O,se]of f){let ae=this.root.dom.get(c);ae.addTopic(se,O,"button",this.root).then(()=>{b++,m.topic=ae,r===o.size&&b===f.size&&e===!0&&this.setCanvas(l,this.root.dom.get(c),!1).then(()=>{p.topic=this.root.dom.get(l),s.add(l,p),s.add(c,m),ae.classList.add("zero"),t(!0)})})}}),r++}})}setMenu(e,t,o){return new Promise(r=>{this.root.dom.add(e,new ce(t,o,this.root.dom),null),this.root.dom.add("CardBoxHeader",this.root.dom.get(e),"append"),r(!0)})}setCanvas(e="canvas",t,o=!0){return new Promise(r=>{Partarum.Draw.Plotter.createBoard(e,{width:t.offsetWidth.toString(),height:"160"}).then(a=>{this.root.dom.add(a.id,a),o===!1&&a.classList.add("zero"),this.root.dom.get("DrawBoard").add(e,a),this.root.dom.add("CardBoxHeader",a,"append"),r()})})}setTopicBody(){return new Promise(e=>{this.root.dom.add("CardTopicBody",new de(this.root.config,"card-topic-body",this.root.dom),null),this.appendChild(this.root.dom.get("CardTopicBody")),e(!0)})}addTopicBox(){return new Promise(e=>{})}};customElements.get("partarum-card-box-body")===void 0&&customElements.define("partarum-card-box-body",he);var k=class{id;cache=new WeakMap;constructor(){k.analyzerID??=T.createIndex(),this.id=k.analyzerID.next(!0)}getID(){return this.id}init(e,t){k.worker??=new Worker("/Partarum/PartarumJS/Worker/DrawWorker/AnalyzeWorker");let o={width:e.offsetWidth??e.innerWidth,height:e.offsetHeight??e.innerHeight,top:e.offsetTop??0,left:e.offsetLeft??0},r=[];for(let a of t){let s={width:a.offsetWidth,height:a.offsetHeight,top:a.offsetTop,left:a.offsetLeft};this.cache.set(s,a),r.push(s)}return k.worker.postMessage([o,r,this.id]),k.intCache[this.id]={},k.promiseCache[this.id]={},k.promiseCache[this.id].promise=new Promise((a,s)=>{k.worker.onmessage=i=>{k.promiseCache[i.data.id].data=i.data,console.dir(k.promiseCache),k.intCache[i.data.id].id=setInterval(k.intCache[i.data.id].fn,200,i)},k.intCache[this.id].fn=i=>{this.id===i.data.id&&clearInterval(k.intCache[i.data.id].id),a(i.data)}}),k.promiseCache[this.id].promise}},j=k;h(j,"worker"),h(j,"analyzerID"),h(j,"promiseCache",{}),h(j,"intCache",{});var ue=class{theme;board;nodes=new j;analyzerID;lineParams={start:{moveTo:"start"|"center"|"end",plus:null,minus:null},goal:{moveTo:"start"|"center"|"end",plus:null,minus:null}};constructor(e,t=null){this.analyzerID=t??this.nodes.getID(),console.dir(this.analyzerID),this.board=e instanceof HTMLCanvasElement?e:document.createElement("canvas")}setTheme(e){this.theme=e}setNodes(...e){return new Promise((t,o)=>{this.nodes.init(this.board,Array.isArray(e)?e:[e]).then(r=>{console.dir(Partarum.Cache.PlotCache.getCollection("PlotterCache","Plotter","setLine").entries()),t({data:r,ctx:this.board.getContext("2d")})})})}setCanvasTo(e,t="append"|"after"|"before"|"replace"){switch(t){case"append":e.appendChild(this.board);break;case"after":e.after(this.board);break;case"before":e.before(this.board);break;case"replace":e.replaceWith(this.board)}}};var Re=class{root={dom:{},app:new Partarum};plotter=Partarum.Draw.Plotter;constructor(e,t,o,r){this.root.dom=o,this.root.config=e,this.root.name=t,this.root.id=typeof r=="string"?r.replace(" ","_"):""}createPlot(e,t,o,r=!1){return new Promise(a=>{let s=new ue(e);s.setTheme(t),s.setNodes(o).then(()=>{a(s)})})}setLines(e,t,o,r,a=!1){this.plotter.record(e,"setLine",t,r.id,()=>{let s=new ue(e);console.dir(s.analyzerID),s.setNodes(o,r).then(i=>{let n=i.ctx;console.dir(i.data.id);let c=i.data.board,l=i.data.nodes[0],m=i.data.nodes[1];a!==!1&&n.clearRect(0,0,e.width,e.height),n.strokeStyle="#007F85",n.lineWidth=3,n.beginPath(),n.moveTo(l.nodeCTX.centerTop.x,0),n.lineTo(m.nodeCTX.centerTop.x,m.nodeCTX.centerTop.y),n.stroke()})}).then(()=>{this.plotter.render("setLine",t)}).catch(s=>{console.dir(s),console.log("ERROR")})}};var Y=class extends E{constructor(e){super(e,"partarum-card-box","partarumCardBox"),this.loadStyle({link:"/Partarum/PartarumCSS/PartarumElements/cardBox.css",style:document.querySelectorAll('style[id*="fa"]')}).then(()=>{}),this.root.dom.add("CardBoxBody",new he(this.root.config,"body",this.root.dom),null),this.root.dom.get("CardBoxBody").classList.add("single-box-center-medium"),this.root.dom.add("shadowBox",this.root.dom.get("CardBoxBody"),"append"),Reflect.has(this.root.config,"parent")?this.root.config.parent.appendChild(this):document.body.appendChild(this),this.root.dom.add("DrawBoard",this.root.dom.create("Canvas","Boards")),this.root.dom.add("CardDrawBox",new Re),this.root.dom.add("Categories",this.root.dom.create("CardBox","Categories")),this.root.dom.add("DisplayCategories",this.root.dom.create("CardBox","DisplayCategories")),this.root.dom.add("DisplayMenu",this.root.dom.create("CardBox","DisplayMenu")),this.root.dom.add("Loader",this.root.dom.create("CardBox","Loader")),this.root.dom.add("Listener",this.root.dom.create("CardBox","Listener")),this.root.dom.add("LastDraw",new Set),this.root.dom.get("Loader").add("Status",0)}connectedCallback(){super.connectedCallback()}add(e,t){this.root.dom[t].appendChild(e)}addTopic(e){let t=Array.isArray(e)?e:[e];for(let o of t)this.root.dom.add(o,document.createElement("section"),null),this.root.dom.add("CardBoxBody",this.root.dom.get(o),"append")}};customElements.get("partarum-card-box")===void 0&&customElements.define("partarum-card-box",Y);var B=class{id;cache=new WeakMap;constructor(){B.analyzerID??=T.createIndex(),this.id=B.analyzerID.next(!0)}getID(){return this.id}init(e,t){B.worker??=new Worker("/Partarum/PartarumJS/Worker/HTMLWorker/LayoutAnalyzeWorker");let o={width:e.offsetWidth??e.innerWidth,height:e.offsetHeight??e.innerHeight,top:e.offsetTop??0,left:e.offsetLeft??0},r=[];for(let a of t){let s={width:a.offsetWidth,height:a.offsetHeight,top:a.offsetTop,left:a.offsetLeft};this.cache.set(s,a),r.push(s)}return B.worker.postMessage([o,r,this.id]),B.intCache[this.id]={},B.promiseCache[this.id]={},B.promiseCache[this.id].promise=new Promise((a,s)=>{B.worker.onmessage=i=>{B.promiseCache[i.data.id].data=i.data,B.intCache[i.data.id].id=setInterval(B.intCache[i.data.id].fn,200,i)},B.intCache[this.id].fn=i=>{this.id===i.data.id&&clearInterval(B.intCache[i.data.id].id),a(i.data)}}),B.promiseCache[this.id].promise}},H=B;h(H,"worker"),h(H,"analyzerID"),h(H,"promiseCache",{}),h(H,"intCache",{});var me=class extends x{nodes=new H;constructor(e,t,o){super(e,t,o,"partarumNavBarBody")}connectedCallback(){super.connectedCallback(),this.root.connectedCallback(()=>{console.dir("root connectedCallback"),this.id="partarumNavBarBody",this.analyseConfig().then(()=>{Reflect.has(this.root.config,"nav")&&this.loadElements().then()})})}analyseConfig(e){return new Promise(t=>{t()})}async loadElements(){await this.setNav(this.root.config.nav),await this.setDesktop(this.root.config.desktop),await this.setMobile(this.root.config.mobile)}setNav(e){return new Promise(t=>{let o=this.root.config?.type;switch(this.root.dom.add("nav",document.createElement("nav"),null),this.appendChild(this.root.dom.get("nav")),o){case"classic":this.setAnchor(e,this.root.dom.get("nav")).then(()=>t())}})}setMobile(e){return new Promise(t=>{if(console.dir(e),e?.type)switch(e.type){case"Hamburger":let o=new HTMLMenuHamburger({parent:this.root.dom.get("nav"),...e?.mobile});t()}e?.position})}setDesktop(e){return new Promise(t=>{if(e?.type,e?.position||e?.positionX||e?.positionY){let o=e.positionX||e.position.x||{to:"center"},r=e.positionY||e.position.y||{from:0,to:"10vh",height:"10vh"};Partarum.HTML.getSafeElementByQueryString(e.position.to).then(a=>{setTimeout(()=>{this.nodes.init(window,[a]).then(s=>{let i=s.base.height/100;console.dir(i*10),console.dir(s);let n=s.nodes[0].top/2-s.base.height/10/2;this.setAttribute("style",`
                            --animationTop: ${n}px; 
                            --animationHeight: ${e.position?.height||"10vh"}; 
                            animation: simpleNav 2s ease-in-out; 
                            animation-fill-mode: forwards; 
                            display: grid;
                            grid-template-columns: 1fr 0; 
                            color: #F9F9FA;
                            `),t()})},500)})}})}setAnimation(e,t){let o=document.createElement("style");o.textContent=`
            @keyframes simpleNav {
                from {
                    top: 0;
                    height: 0;
                    opacity: 0;                  
                    font-size: 0;
                } 
                to {
                    top: calc(calc(${e}px / 2) - calc(${t}vh / 2));
                    height: ${t}vh;
                    opacity: 1;
                    font-size: 1.6rem;
                }
            }
        `,this.appendChild(o)}setAnchor(e,t){return new Promise(o=>{console.dir("setAnchor");let r=Array.isArray(e)?e:[e],a=0;for(let s of r){let i=document.createElement("a");for(let n in s)switch(n){case"text":i.appendChild(document.createTextNode(s[n]));break;default:i.setAttribute(n,s[n])}t.appendChild(i),a++,a===r.length&&o()}})}};customElements.get("partarum-nav-bar-body")===void 0&&customElements.define("partarum-nav-bar-body",me);var J=class extends E{constructor(e){super(e,"partarum-nav-bar","partarumNavBar"),this.loadStyle({link:"/Partarum/PartarumCSS/PartarumElements/navBar.css",style:document.querySelectorAll('style[id*="fa"]')}).then(()=>{}),this.root.dom.add("NavBarBody",new me(e,"body",this.root.dom),null),this.root.dom.get("NavBarBody").classList.add("single-box-center-large"),this.root.dom.add("shadowBox",this.root.dom.get("NavBarBody"),"append"),Reflect.has(e,"parent")&&e.parent.appendChild(this)}connectedCallback(){super.connectedCallback(),this.id="partarumNavBar"}};customElements.get("partarum-nav-bar")===void 0&&customElements.define("partarum-nav-bar",J);var pe=class extends x{constructor(e,t){super(e,t),this.id="partarumBottomBarBody"}};customElements.get("partarum-bottom-bar-body")===void 0&&customElements.define("partarum-bottom-bar-body",pe);var q=class extends E{constructor(e){super(e,"partarum-bottom-bar"),this.id="partarumBottomBar",this.loadStyle({link:"/Partarum/PartarumCSS/PartarumElements/bottomBar.css",style:document.querySelectorAll('style[id*="fa"]')}).then(()=>{}),this.root.dom.add("BottomBarBody",new pe(e,"body"),null),this.root.dom.add("shadowBox",this.root.dom.get("BottomBarBody"),"append"),Reflect.has(e,"parent")?e.parent.appendChild(this):document.body.appendChild(this),this.addTopic(["leftSide","center","rightSide"])}add(e,t){this.root.dom.add(t,e,"append")}addTopic(e){let t=Array.isArray(e)?e:[e];for(let o of t){let r=document.createElement("section");this.root.dom.add(o,r,null),this.root.dom.add("BottomBarBody",r,"append")}}};customElements.get("partarum-bottom-bar")===void 0&&customElements.define("partarum-bottom-bar",q);var fe=class extends x{constructor(e){super(e,"body")}};customElements.get("partarum-cookie-body")===void 0&&customElements.define("partarum-cookie-body",fe);var ge=class extends x{constructor(e){super(e,"header"),this.className="box box-center-center",this.root.app.themes=[{header:{config:{h1:"Und auch wir benutzen Cookies :)"},parent:this}}],this.root.app.create().then()}};customElements.get("partarum-cookie-header")===void 0&&customElements.define("partarum-cookie-header",ge);var Ce=class extends x{constructor(e){super(e,"main")}};customElements.get("partarum-cookie-main")===void 0&&customElements.define("partarum-cookie-main",Ce);var be=class extends x{constructor(e,t,o){super(e,"footer"),this.root.dom=o,this.className="media-box-row";let r=window.sessionStorage.getItem("cookies_accepted"),a=!(r===null||r===!1);this.root.app.themes=[{footer:{config:{section_left:{_attributes:{class:"media-box-row"},button_config:{_attributes:{text:"Cookie-Einstellungen"}}},section_right:{_attributes:{class:"media-box-row"},button_essential:{_attributes:{type:"button",id:"cookieDisable",text:"Nicht akzeptieren",addEvent:{type:"click",topic:"CookieBanner",theme:"disableCookie",name:"disableCookie_click",doThat:()=>{e.cookies.disable.doThat(),this.root.dom.get("CookieBanner").classList.toggle("zero")}}}},button_all:{_attributes:{type:"button",id:"cookieActive",text:a===!1?"Alle akzeptieren":"Schlie\xDFen",addEvent:{type:"click",topic:"CookieBanner",theme:"activeCookie",name:"activeCookie_click",targetID:"cookieActive",doThat:s=>{Partarum.System.Cookie.accepted===!1&&this.setCookies(e,"active",s),this.root.dom.get("CookieBanner").classList.toggle("zero")}}}}}},parent:this}}],this.root.app.create().then()}setCookies(e,t,o){Partarum.System.Cookie.init().then(r=>{if(r.status===!0)switch(t){case"active":Partarum.System.Cookie.toAgree(e).then(()=>{this.root.dom.get("shadowBox").getElementById("cookieActive").innerText="Schlie\xDFen"});break;case"disable":}})}};customElements.get("partarum-cookie-footer")===void 0&&customElements.define("partarum-cookie-footer",be);var xe=class extends x{constructor(e,t){super(e,"banner"),this.id="PartarumCookieBanner",this.className="single-box-center",this.root.config=e,this.root.dom=t,this.loadBody().then()}async loadBody(){await this.setBody(),await this.setHeader(),await this.setMain(),await this.setFooter()}setBody(){return new Promise(e=>{this.root.dom.add("CookieBody",new fe(this.root.config,"body"),null),this.appendChild(this.root.dom.get("CookieBody")),e(!0)})}setHeader(){return new Promise(e=>{this.root.dom.add("CookieHeader",new ge(this.root.config,"header"),null),this.root.dom.add("CookieBody",this.root.dom.get("CookieHeader"),"append"),e(!0)})}setMain(){return new Promise(e=>{this.root.dom.add("CookieMain",new Ce(this.root.config,"main"),null),this.root.dom.add("CookieBody",this.root.dom.get("CookieMain"),"append"),e(!0)})}setFooter(){return new Promise(e=>{this.root.dom.add("CookieFooter",new be(this.root.config,"footer",this.root.dom),null),this.root.dom.add("CookieBody",this.root.dom.get("CookieFooter"),"append"),e(!0)})}};customElements.get("partarum-cookie-banner")===void 0&&customElements.define("partarum-cookie-banner",xe);var Q=class extends E{constructor(e){Partarum.Log.create("HTMLCookie","construct").add("HTMLCookie","construct","start"),super(e,"partarum-cookie"),this.root.status={cookieBanner:!1,cookiesActivated:!1,cookiesAccepted:!1,cookiesInUse:!1},Partarum.System.Cookie.init().then(o=>{Partarum.Log.add("HTMLCookie","construct","after Cookie.init()");let r=o,a=r.status,s=r.accepted,i=r.inUse;this.root.status.cookiesActivated=a,this.root.status.cookiesAccepted=s,this.root.status.cookiesInUse=i,a===!0&&(Partarum.Log.add("HTMLCookie","construct","activated === true"),this.id="partarumCookie",this.loadStyle({link:"/Partarum/PartarumCSS/PartarumElements/cookieBanner.css",style:document.querySelectorAll('style[id*="fa"]')}).then(()=>{this.root.app.themes=[{header:{config:{i:{_attributes:{id:"partarumCookieIcon",class:"fa-duotone fa-cookie-bite fa-flip fa-3dicon",style:this.closest("#partarumBottomBarBody")!==null?`
                                                position: unset;
                                                bottom: unset;
                                                left: unset;
                                            `:"",addEvent:{type:"click",topic:"CookieBanner",theme:"CookieIcon",name:"CookieIcon_click",targetID:"cookieIcon",bubble:!0,doThat:n=>{console.dir("CookieIcon - clicked"),console.dir(this.root.dom.get("CookieBanner")),this.root.dom.get("CookieBanner").classList.toggle("zero")}}}}},parent:this.root.dom.get("shadowBox")}}],this.root.app.create(()=>{}).then(()=>{this.setCookieBanner(e).then(()=>{s===!0&&Partarum.System.Cookie.toAgree(e,!0)})})}))}).then(()=>{})}async setCookieBanner(e){Partarum.Log.create("HTMLCookie","setCookieBanner").add("HTMLCookie","setCookieBanner","start"),await this.loadCookieElement(e)}loadCookieElement(e){return new Promise(t=>{this.root.dom.add("CookieBanner",new xe(e,this.root.dom),null),this.root.status.cookiesAccepted===!0&&this.root.dom.get("CookieBanner").classList.toggle("zero"),this.root.dom.add("shadowBox",this.root.dom.get("CookieBanner"),"append"),t(!0)})}};customElements.get("partarum-cookie")===void 0&&customElements.define("partarum-cookie",Q);var Z=class extends E{constructor(e){super(e,"partarum-registration-box")}connectedCallback(){super.connectedCallback(),this.loadElements().then()}async loadElements(){let e=this.root.config?.theme??"small",t=this.root.config?.level??4;await this.setHeadline(),await this.setForm()}setHeadline(){return new Promise(e=>{let t=document.createElement("h"+this.root.config.level.toString());t.appendChild(document.createTextNode(this.root.config?.surface?.headline?.text??"Registrierung")),this.initAddElement("headline",t)})}setForm(){return new Promise(e=>{})}};customElements.get("partarum-registration-box")===void 0&&customElements.define("partarum-registration-box",Z);var L=class{static createBottomBar(...e){return new q(...e)}static createCardBox(...e){return new Y(...e)}static createCookieBanner(...e){return new Q(...e)}static createNavBar(...e){return new J(...e)}static createRegistrationBox(...e){return new Z(...e)}static confirmLink(e){let{href:t,confirm:o,title:r,options:a}=e;return["href","confirm","title","options"].forEach(s=>Reflect.deleteProperty(e,s)),this.counter++,{href:"javascript:void(0)",title:r||"Link",addEvent:{type:"click",topic:"ConfirmLink",theme:"confirmLink_click",name:"confirmLink_click_"+this.counter,targetID:"confirmLink_"+this.counter,doThat:s=>{Partarum.Validation.confirmLink(o,t,a)}},...e}}static getSafeElementById(e,t=250){return new Promise(o=>{Partarum.HTML.getSafeElement("byID",e,t).then(r=>{o(r)})})}static getSafeElementByQueryString(e,t=250){return new Promise(o=>{Partarum.HTML.getSafeElement("byQuery",e,t).then(r=>{o(r)})})}static getSafeElement(e,t,o=250){return new Promise((r,a)=>{console.dir(t);let s=e==="byID"?document.getElementById(t):document.querySelector(t),i,n=0,c=()=>{s===null&&n<1e3?(s=e==="byID"?document.getElementById(t):document.querySelector(t),s===null?(n++,c()):r(s)):(clearInterval(i),r(s))};s===null?i=setInterval(c,o):r(s)})}};h(L,"BottomBar",q),h(L,"CardBox",Y),h(L,"CookieBanner",Q),h(L,"NavBar",J),h(L,"RegistrationBox",Z),h(L,"counter",0);var Xe=class{constructor(e,t,o,r){this.mediaBox=document.getElementById(e),this.boxID=t,this.box=document.getElementById(t),this.event=o,this.type=r,(async()=>{let s,i,n,c,l=!1;switch(this.type){case"mouseover":s=await this.firstStep(),i=s===!0?await this.secondStep():!1,n=i===!0?await this.thirdStep():!1,c=n===!0?await this.fourthStep():!1,l=c===!0?await this.fifthStep():!1;break;case"click":i=await this.secondStep(),n=i===!0?await this.thirdStep():!1}})().then()}firstStep(){return new Promise(e=>{let t=Partarum.Cache.EventCache.getThemeIDs("MediaBoxPicture","MediaBoxPicture_mouseover");for(let o of t)document.getElementById(o[1]).removeEventListener("mouseover",Partarum.Cache.EventCache.getEvent("MediaBoxPicture","MediaBoxPicture_mouseover",o[0]));e(!0)})}secondStep(e){return new Promise(t=>{(()=>new Promise(r=>{for(let a of this.mediaBox.children)a.id!==this.boxID&&a.classList.add("news-box-zeroBox"),this.box.scrollIntoView({block:"start",behavior:"smooth"});r()}))().then(()=>{for(let r of this.mediaBox.children)r.id!==this.boxID&&r.classList.add("news-box-zero"),this.box.scrollIntoView({block:"start",behavior:"smooth"});t(!0)})})}setButtonBox(){let e="ButtonBox_"+this.box.id;if(this.buttonBox=document.getElementById(e),!this.buttonBox){let t=new Partarum;t.themes=[{buttonBox:{config:{footer:{_attributes:{class:"box-row box-center-center",style:"margin:auto; font-size: 3em; color: darkred;",id:"ButtonBox_"+this.box.id},i:{_attributes:{class:"fa-duotone fa-circle-xmark",id:"ButtonBox_"+this.box.id+"_close",addEvent:{type:"click",topic:"MediaBoxPicture",theme:"MediaBoxPicture_ButtonBox_click",name:"MediaBoxPicture_ButtonBox_"+this.box.id+"_click",targetID:"MediaBoxPicture_ButtonBox_"+this.box.id,doThat:()=>{let o=document.getElementById("ButtonBox_"+this.box.id);o.classList.remove("box-row"),o.classList.add("zero"),this.box.classList.remove("news-box-open");for(let r of this.mediaBox.children)r.classList.remove("news-box-zero"),r.classList.remove("news-box-zeroBox"),r.classList.remove("news-box-open")}}}}}},parent:this.box}}],t.create().then()}}thirdStep(){return new Promise(e=>{localStorage.setItem("boxFocus","1"),this.box.classList.remove("news-box-zero"),this.box.classList.remove("news-box-zeroBox"),this.box.classList.add("news-box-open"),this.box.style.position="relative",this.box.scrollIntoView(),e(!0)})}fourthStep(){return new Promise((e,t)=>{let o=this.box.id+"_mouseout";Partarum.Cache.EventCache.create("MediaBoxPicture","MediaBoxPicture_mouseout"),Partarum.Cache.EventCache.setEvent({topic:"MediaBoxPicture",theme:"MediaBoxPicture_mouseout",name:o,targetID:this.box.id,bubbles:!0,doThat:r=>{if(console.log("mouseout - soll: "+this.box.id+" - ist: "+r.target.id),r.target.parentElement.id==="mediaBox"){this.mediaBox.style.flexDirection="row",this.box.classList.remove("news-box-open"),this.whileCounter??=0,this.whileCounter++,console.dir(this.whileCounter),this.buttonBox&&(this.buttonBox.remove("box-row"),this.buttonBox.classList.add("zero"));for(let s of this.mediaBox.children)s.classList.remove("news-box-zero"),s.classList.remove("news-box-zeroBox"),s.classList.remove("news-box-open");let a=Partarum.Cache.EventCache.getThemeIDs("MediaBoxPicture","MediaBoxPicture_mouseout");for(let s of a)this.box.removeEventListener("mouseout",Partarum.Cache.EventCache.getEvent("MediaBoxPicture","MediaBoxPicture_mouseout",s[0]),!1)}}}),setTimeout(()=>{this.box.addEventListener("mouseout",Partarum.Cache.EventCache.getEvent("MediaBoxPicture","MediaBoxPicture_mouseout",o),!1),e(!0)},500)})}fifthStep(){return new Promise(e=>{setTimeout(()=>{let t=Partarum.Cache.EventCache.getThemeIDs("MediaBoxPicture","MediaBoxPicture_mouseover");for(let o of t)document.getElementById(o[1]).addEventListener("mouseover",Partarum.Cache.EventCache.getEvent("MediaBoxPicture","MediaBoxPicture_mouseover",o[0]),{once:!0});e(!0)},500)})}clickOn(){}clickOff(){}mouseoverOn(){}mouseoverOff(){}mouseoutOn(){}mouseoutOff(){}},we=class{static enlarge(e,t,o){console.dir(o);let r=new Xe("mediaBox",t,e,o)}};var ee=class{constructor(e){this.getBackground()}static create(e){return Partarum.hasBackground=!1,new ee(e).menu()}menu(){return{nav:{_attributes:{class:"box-row picture-menu"},button_shrink:this.shrink(),button_enlarge:this.enlarge()}}}enlarge(){return{_attributes:{text:"Bild vergr\xF6\xDFern"},i:{_attributes:{class:"fa-duotone fa-magnifying-glass-plus"}}}}shrink(){return{_attributes:{text:"Bild verkleinern"},i:{_attributes:{class:"fa-duotone fa-magnifying-glass-minus"}}}}getBackground(){let e=["background-color","background-image"];if(Partarum.hasBackground===!1){let t=window.getComputedStyle(document.body),o=window.getComputedStyle(document.getElementsByTagName("main")[0]);for(let r of e)console.log("body - "+r+": "+t.getPropertyValue(r)),console.log("main - "+r+": "+o.getPropertyValue(r));Partarum.hasBackground=!0}}};var te=class{constructor(e){if(console.dir(e),this.boxConfig=e.boxConfig||null,this.boxConfig.template.PartarumTemplate){let t=this.boxConfig.template.PartarumTemplate;this.id=t.id,this.templateClass=t.templateName,this.cc=this.templateClass.configCache[this.id],this.PartarumTemplate=!0}this.boxValues=e.boxValues,this.Event=new we,this.filterObject()}filterObject(){this.boxConfig&&(this.templateName=this.PartarumTemplate?this.templateClass.name:this.boxConfig.templateName,this.boxEvents=this.boxConfig.events||null,this.barrier=this.boxConfig.barrier||!1)}mainTemplate(){return{_attributes:{class:"main-article media-box media-box-medium",id:"mediaBox"}}}createValueUser(){}createValueTemplate(){}createValue(){this.PartarumTemplate?this.createValueTemplate():this.createValueUser(),this.surfaceValue=this.mainTemplate();let e=1;if(this.boxValues)for(let t of Object.keys(this.boxValues)){let o="mediaBox_box_"+e,r="section_"+e;if(this.PartarumTemplate){Reflect.set(this.cc,o,this.templateClass.create(this.cc.config));let a=this.cc[o].PartarumIntern;if(this.templateName==="MediaBoxPicture"){let n="mediaBox_picture_"+e;if(Reflect.defineProperty(this.boxValues[t].$picture,"id",{value:n}),a.events){this.cc[o].figure.img._attributes.addEvent=[];for(let c in a.events){let l={topic:"MediaBoxPicture",targetID:n};switch(c){case"enlarge":let m=a.events[c]==="barrier"?"click":"mouseover";l.type=m,l.theme="MediaBoxPicture_"+m,l.name=n+"_"+m,l.doThat=p=>{we.enlarge(p,o,m)}}console.dir(l),this.cc[o].figure.img._attributes.addEvent.push(l)}}Reflect.deleteProperty(this.cc[o],"PartarumIntern")}let s={_attributes:{class:this.barrier===!0?"picture-box-barrier":"picture-box",id:o}};if(this.barrier===!0){let n=ee.create();Reflect.set(s,"nav",n.nav)}let i={template:{name:o,surface:this.cc[o],valueFile:this.boxValues[t]}};Reflect.set(s,"_import",i),Reflect.set(this.surfaceValue,r,s),e++}}return this.surfaceValue}static create(e){return new te(e).createValue()}static init(){}static typePicture(){}};var A=class{constructor(e,t=!1){this.headline=e.headline||A.HEADLINE_UNDER_IMAGE,this.picture=e.picture||A.STYLE_ORIGINAL,this.barrier=t,this.events=e.events||null,this.events&&(this.enlarge=this.events.enlarge||null)}headlineTemplate(){return{h2:{$headline:{_type:"text"}}}}imageTemplate(){return{img:{$picture:{src:{_type:"_attributes",_value:{src:""}},alt:{_type:"_attributes",_value:{alt:""}},id:{_type:"_attributes",_value:{id:""}}},_attributes:{}}}}figcaptionText(){return{p:{$description:{_type:"text"}}}}figcaptionTemplate(){let e={};return this.headline===A.HEADLINE_UNDER_IMAGE&&Reflect.set(e,"h2",this.headlineTemplate().h2),Reflect.set(e,"p",this.figcaptionText().p),{figcaption:e}}figureBody(){let e={};return this.headline===A.HEADLINE_OVER_IMAGE&&Reflect.set(e,"h2",this.headlineTemplate().h2),Reflect.set(e,"img",this.imageTemplate().img),Reflect.set(e,"figcaption",this.figcaptionTemplate().figcaption),e}template(){let e={figure:{...this.figureBody()},PartarumIntern:{template:"MediaBoxPicture"}};if(this.events){e.PartarumIntern.events??={};for(let t in this.events)Reflect.set(e.PartarumIntern.events,t,this.events[t])}return e}static create(e){return new A(e).template()}static init(e){let t="mediaBox_"+A.counter;return Reflect.set(A.configCache,t,{config:e}),{PartarumTemplate:{templateName:A,id:t}}}},D=A;h(D,"STYLE_ORIGINAL",2),h(D,"STYLE_MOVIE",4),h(D,"HEADLINE_OVER_IMAGE",8),h(D,"HEADLINE_UNDER_IMAGE",16),h(D,"configCache",{}),h(D,"counter",1);var R=class{static MediaBox(e){return te.create(e)}static MediaBoxPicture(e){return D.init(e)}};h(R,"STYLE_ORIGINAL",2),h(R,"STYLE_MOVIE",4),h(R,"HEADLINE_OVER_IMAGE",8),h(R,"HEADLINE_UNDER_IMAGE",16);var M=class{static init(e=!1){return Partarum.Log.create("Cookie","init"),Partarum.Log.add("Cookie","init","start"),this.isInitialized===!1?(this.isInitialized=!0,Partarum.Log.add("Cookie","init",{initialized:!1}),new Promise(async t=>{Partarum.Log.add("Cookie","init","Promise"),this.inUse=e,this.inUse===!1&&(Partarum.Log.add("Cookie","init",{inUse:!1}),await this.check(),await this.getUserCookies()),await this.isAccepted().then(()=>{Partarum.Log.add("Cookie","init","after isAccepted()"),t({inUse:this.inUse,status:this.status,accepted:this.accepted,initialized:this.isInitialized})})})):(Partarum.Log.add("Cookie","init",{initialized:!0}),Promise.resolve({inUse:this.inUse,status:this.status,accepted:this.accepted,log:this.Log,errorTest:new Error("testLog")}))}static toAgree(e,t=!1){return Partarum.Log.create("Cookie","toAgree"),Partarum.Log.add("Cookie","toAgree","start"),new Promise(o=>{Partarum.Log.add("Cookie","toAgree","Promise"),this.status===!0&&(this.accepted=!0,window.sessionStorage.setItem("cookies_accepted","true"),(r=>{let a=document.cookie;return new Promise(s=>{r.cookies.active.doThat(),s(a)})})(e).then(r=>{if(r===document.cookie){let a=setInterval(function(){s++,document.cookie===r?(console.log(document.cookie),(s===200||t===!0)&&clearInterval(a),o(!1)):(console.log(document.cookie),clearInterval(a),o(!0))},100),s=0}}))})}static toDisagree(){this.status===!0&&(this.accepted=!1,window.sessionStorage.setItem("cookies_accepted","false"))}static isAccepted(){return Partarum.Log.create("Cookie","isAccepted"),new Promise(e=>{Partarum.Log.add("Cookie","isAccepted","Promise");let t=window.sessionStorage.getItem("cookies_accepted");t!==null&&t==="true"&&(this.accepted=!0,e(!0)),e(!1)})}static add(){}static has(){}static get(){}static remove(){}static updateUserCookies(){}static getUserCookies(){return Partarum.Log.create("Cookie","getUserCookies"),new Promise(e=>{Partarum.Log.add("Cookie","getUserCookies","Promise"),Partarum.Cache.SimpleCache.create("Cookies","userCookies"),document.cookie.split(";").forEach(o=>{let r=o.split("=");if(r.length>1){let a=r[0].trim(),s=r[1];this.Storage.set(a,s),Partarum.Cache.SimpleCache.setItem("Cookies","userCookies",a,s),this.inUse=!0}}),Partarum.Cache.SimpleCache.setItemToTimeline("Cookies","userCookies",performance.now().toString(),document.cookie),e(!0)})}static check(){return Partarum.Log.create("Cookie","check"),new Promise(e=>{Partarum.Log.add("Cookie","check","Promise"),this.status=navigator.cookieEnabled===!0?!0:navigator.cookieEnabled===!1?!1:"hidden",this.status===!0&&window.sessionStorage.setItem("cookies_activated",this.status.toString()),e(this.status)})}};h(M,"status",!1),h(M,"inUse",!1),h(M,"accepted",!1),h(M,"Storage",new Map),h(M,"isInitialized",!1);var ye=class{};h(ye,"Cookie",M);var oe=class{static createBoard(e,t={width:window.offsetWidth,height:window.offsetHeight},o="node"){return new Promise(r=>{if(this.isInitialized===!1){let s=Partarum.Cache.PlotCache.create("PlotterCache","Plotter");this.root={cache:s,ctx:s.get("CTXCache"),board:s.get("BoardCache"),collection:s.get("CollectionCache"),lastDraw:s.get("LastDraw")},this.isInitialized=!0}let a=document.createElement("canvas");a.setAttribute("id",e),a.setAttribute("width",t.width),a.setAttribute("height",t.height),this.root.board.add(e,a),this.root.ctx.add(this.root.board.get(e),new Map),this.root.ctx.get(this.root.board.get(e)).set("ctx",this.root.board.get(e).getContext("2d")),this.root.ctx.get(this.root.board.get(e)).set("id",e),r(o==="node"?this.root.board.get(e):this.root.ctx.get(this.root.board.get(e)).get("ctx")),r()})}static clearBoard(...e){for(let t of e)this.root.ctx.get(this.root.board.get(t)).get("ctx").clearRect(0,0,this.root.board.get(t).width,this.root.board.get(t).height)}static showPoint(e,t,o){let r=document.createElement("div");r.style.position="absolute",r.style.height="5px",r.style.width="5px",r.style.borderRadius="50%",r.style.background=o,r.style.left=e+"px",r.style.top=t+"px",document.body.appendChild(r)}static render(e,t){for(let o of Object.keys(this.root.collection.get(e)[t]))this.root.collection.get(e)[t][o]()}static record2(e){return new Promise(t=>{})}static record(e,t,o,r,a){return new Promise(s=>{let i;this.root.collection.has(t)===!1?(this.root.collection.add(t,new Map),i=this.root.collection.get(t),i.set("boards",new Map),i.get("boards").set(this.root.ctx.get(e).get("id"),e),i.set("endpoints",new Map)):i=this.root.collection.get(t),console.dir(o),this.root.collection.get(t).hasOwnProperty(o)===!1&&(this.root.collection.get(t)[o]={}),console.dir(this.root.collection.get(t)),this.root.collection.get(t)[o][r]=a,this.root.lastDraw.add("name",t),this.root.lastDraw.add("group",o),s(!0)})}static update(e=void 0,t=void 0){this.render(e||this.root.lastDraw.get("name"),t||this.root.lastDraw.get("group"))}static isCollected(e,t){return this.root.collection.has(e)&&this.root.collection.get(e).hasOwnProperty(t)}};h(oe,"root"),h(oe,"isInitialized",!1);var ke=class{};h(ke,"Plotter",oe);var re=class{static getBase(e,t,o,r,a,s){return{type:t,topic:e,theme:e+"_"+o,name:e+"_"+o+"_"+t+"_from_"+r+"_to_"+a,targetID:r,...s}}static keycheck(e,t,o,r){let a={enter:13};return re.getBase("keycheck",e,t,o,r,re.handler.keycheck[e](r,a[t]))}static validation(e,t,o,r){return re.getBase("validation",e,t,o,r,re.handler.validation[e][t](r))}},Pe=re;h(Pe,"handler",{keycheck:{keyup:(e,t)=>({doThat:o=>{o.keyCode===t&&(o.preventDefault(),document.getElementById(e).click())}})},validation:{click:{email:(e,t)=>({doThat:()=>{let o=document.getElementById(e).value;if(o.length>4)if(o.includes("@")&&o.includes(".")){sessionStorage.setItem("email",o);let r=document.getElementById("sendTheShit");r.setAttribute("style","display: block"),r.click()}else{let r="Du musst eine Email - Adresse mit @ und . eingeben!",a=document.getElementById("emailValidation");a.hidden=!1,a.style.backgroundColor=t?.backgroundColor??"#E6E6FA",a.children[0].innerText=r}else{let r="Zu kurz f\xFCr eine Email - Adresse",a=document.getElementById("emailValidation");a.hidden=!1,a.style.backgroundColor=t?.backgroundColor??"#E6E6FA",a.children[0].innerText=r}}})}}});var ze={Log:K,Validation:Le,ValidObject:De,Helper:X,ViewKit:y,Loader:Ne,Workbox:je,Cache:u,HTML:L,Design:R,Counter:G,System:ye,Draw:ke,Events:Pe};var Be=class{constructor(){(!globalThis.Partarum||!Window.Partarum)&&(globalThis.Partarum=Partarum),this.setClasses(),this.loadStyle()}addToGlobal(e){for(let t of e)globalThis.Partarum[t]=t}setClasses(){for(let e in ze)ze.hasOwnProperty(e)&&(globalThis.Partarum[e]=ze[e])}loadStyle(){let e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href","https://partarum.download/module/css/partarum"),document.getElementsByTagName("head")[0].appendChild(e)}};var Ve=class{constructor(){this._dateObject=new Date,this._cookiesEnable=!1,this._cookies=new Map,this._resultWindow=new Map,this._windowKeys=Object.getOwnPropertyNames(window),this._searchWindowArray=["localStorage","sessionStorage"],this.checkStorage(),this.checkCookies(),this.getUserCookies()}visitingDate(){return this._dateObject.toLocaleString()}checkStorage(){for(let e=0;e<this._searchWindowArray.length;e++){let t=this._searchWindowArray[e];this._resultWindow.set(t,this._windowKeys.some(o=>t===o))}this._resultWindow.size===0&&(this._resultWindow.set("localStorage",!!localStorage),this._resultWindow.set("sessionStorage",!!sessionStorage)),this._localStorage=this._resultWindow.get("localStorage")??!1,this._sessionStorage=this._resultWindow.get("sessionStorage")??!1}checkCookies(){this._cookiesEnable=navigator.cookieEnabled===!0?!0:navigator.cookieEnabled===!1?!1:"hidden"}setCookie(e){let t=Object.keys(e.nameValue),o=e.nameValue,r=e.time,a=r.min?1e3*60*r.min:!1,s=new Date,i=a!==!1?s.getTime()+a:s.getTime()+36e5;s.setTime(i);for(let n of t)document.cookie=n+"="+o[n]+"; expires="+s.toGMTString()}isCookie(e){if(document.cookie.split(";").some(t=>t.trim().startsWith(e+"=")))return console.log("The cookie {cookieName} exists"),!0}getUserCookies(){this.cookiesEnable&&document.cookie.split(";").forEach(t=>{let o=t.split("=");this._cookies.set(o[0],o[1])})}getCookie(e){return this._cookies.get(e)??!1}get resultWindow(){return this._resultWindow}get localStorage(){return this._localStorage??!1}get sessionStorage(){return this._sessionStorage??!1}get cookiesEnable(){return this._cookiesEnable}};var g=class{constructor(){if(this.item="Was geht ab?",this.dom=[],this.id=u.ImportCache.setCondition(),this.app={},g.workerCache={},!globalThis.Partarum||!Window.Partarum){globalThis.Partarum=g;let e=async()=>{await _.init()};!g.preloadStatus&&e().then(()=>{new Be,g.preloadStatus=!0,M.init().then(t=>{console.dir(t)})})}}static void(){return"javascript:void(0)"}static init(){(!globalThis.Partarum||!Window.Partarum)&&(globalThis.Partarum=g,new Be)}addWorkbox(e,t){return g.workerCache[e]=new g.Workbox(t,{name:e}),g.workerCache[e].getWorker()}static getWorker(e){return g.workerCache[e].getWorker()}static counter(){g.count??=0,g.count++}childCounter(){this.childCount??=0,this.childCount++}static setTheme(e){g.themeCache??=[],g.themeCache.push(e)}static getTheme(){return g.themeCache[g.themeCache.length-1]}static setStart(){g.isStarted??=1}static stopStart(){g.isStoped??=1}static start(){let e=setInterval(()=>{let t=location.hash.slice(1);t!==""?document.getElementById(t)&&(g.ViewKit.setSingleDisplay("anchor").setScrollableElement("window"),g.ViewKit.callDisplay("anchor").setViewport(t,"center"),g.ViewKit.setIntoView("anchor",t,"center"),clearInterval(e)):clearInterval(e)},100)}set surface(e){this.setSurface(e)}setSurface(e){this.surfaceObject=e}create(e){return g.counter(),e instanceof Function&&u.PartarumCache.setCallback(e),new Promise((t,o)=>{g.checkPreload().then(()=>{if(u.PartarumCache.isTemplate=(this.template??!0)&&u.PartarumCache.setTemplates(this.template),this.type=this?.themes?"group":this?.theme?"single":null,this.type==="single"){let r=new W(this);(this?.config?r.loadPage(this.config):console.dir(this)).then(()=>{})}else this.type==="group"&&this.themes.forEach((r,a)=>{for(let s in r)if(r.hasOwnProperty(s)){this.childCounter(),g.setTheme(s),r[s].theme=s,u.ImportCache.conditionObject[this.id].push({[s]:r[s]});let i=new W(r[s],this.id);this.app[s]=i.loadPage(r[s].config)}});t(this.app)})})}static checkPreload(){return new Promise(e=>{g.preloadStatus===!0?e(!0):setTimeout(()=>{this.checkPreload().then(()=>{e(!0)})},100)})}},W=class{constructor(e,t){this.arg=e,this.id=t,u.ImportCache.create(t)}loadPage(e){async function t(o,r){if(typeof e=="string")return await import(e).then(a=>({[o.theme]:{id:r,theme:o.theme,themeData:o,type:"import",module:a}})).catch(a=>{console.dir(a)});if(typeof e=="object")return{[o.theme]:{id:r,theme:o.theme,themeData:o,type:"direct",module:e}}}return t(this.arg,this.id).then(o=>{let r=Object.keys(u.ImportCache.modulArray).length,a=u.ImportCache.idCounter,s=Object.keys(o)[0],i=o[s].id;return u.ImportCache.setID(i),u.ImportCache.modulArray[i]??={},u.ImportCache.modulArray[i][s]=o[s],Object.keys(u.ImportCache.modulArray[i]).length===u.ImportCache.conditionObject[i].length&&u.ImportCache.conditionObject[i].forEach((n,c,l)=>{for(let m in n)if(n.hasOwnProperty(m)){let p=u.ImportCache.modulArray[i][m],f;p.hasOwnProperty("type")?p.type==="import"?f=p.module.default:p.type==="direct"&&(f=p.module):f=u.ImportCache.modulArray[i][m].module.default,new $e(m,f,n[m].config).setPage(n[m])}}),r!==0&&r===a-1?g.isStarted!==1&&(g.isStoped!==1&&(g.start(),g.setStart(),g.stopStart(),g.isStarted=null),W.setCallback()):(u.PartarumCache.setRound(),u.PartarumCache.getRound()===u.ImportCache.conditionObject.round_0.length&&W.setCallback()),o}).catch(o=>{console.dir(o)})}static setCallback(){let e=u.PartarumCache.getCallback();if(e!==void 0){for(let t=0;t<e.length;t++)(e[t]??(()=>{}))();u.PartarumCache.callback=[]}}},$e=class{constructor(e,t,o){this._surface=t,this._cache=[t],this.filePath=o,this._clientSettings=new Ve}setPage(e){let t=null;e?.container&&(t=document.createElement(e.container),t.setAttribute("id",e.theme),e.parent.appendChild(t));for(let o of this._cache)o instanceof Promise?o[0].then(r=>(u.PartarumCache.setSurfacePaths(this._surface.surface),new S(r.default,t??e.parent,this.filePath))):new S(o,t??e.parent,this.filePath)}},S=class{constructor(e,t,o){t!==null&&(t instanceof HTMLElement?this.dom=t:t instanceof ShadowRoot?this.dom=t:this.after=t?.after,this.surface=e,this.surfacePaths=u.PartarumCache.surfacePaths,this.filePath=o,this.templateKeys=["_attributes","_import"],u.DOMCache.create(),this.create())}create(){let e=null;if(typeof this.surface!="string"&&!Array.isArray(this.surface)){for(let t in this.surface)if(u.DOMCache.counter++,this.surface.hasOwnProperty(t)){let o=this.surface[t],r=null;if(t.charAt(0)!=="$"){let a=t.split("_")[0];if(a===""&&t==="_attributes"){u.DOMCache.roundCounter[u.DOMCache.counter]="attribute";for(let s in o)if(o.hasOwnProperty(s)&&s.charAt(0)!=="$")if(s==="text")o[s]instanceof Promise?o[s].then(i=>{this.dom.appendChild(document.createTextNode(i))}):this.dom.appendChild(document.createTextNode(o[s]));else if(s==="innerHTML")this.dom.innerHTML=o[s];else if(s==="addEvent"){if(g.hasOwnProperty("Cache")){let i=Array.isArray(o[s])?o[s]:[o[s]];for(let n of i){n.name&&(n.topic&&g.Cache.EventCache.create(n.topic,n.theme),g.Cache.EventCache.setEvent(n));let c=g.Cache.EventCache.getEvent(n.topic,n.theme,n.name)??n.doThat;n.bubbles?this.dom.addEventListener(n.type,c,!0):this.dom.addEventListener(n.type,c,!1)}}}else s==="addDOMEvent"?o[s].doThat():this.dom.setAttribute(s,o[s]);e=!0}else if(a===""&&t==="_import"){if(typeof o!="object"){u.DOMCache.roundCounter[u.DOMCache.counter]="import";let s=new g;s.themes=[{[o]:{config:o,parent:this.dom}}],s.create()}else if(!o.template&&Array.isArray(o))for(let s of o){let i=new S(s,this.dom,this.filePath)}else if(o.template){if(typeof o.template=="object"){let s=o.template.valueFile;u.PartarumCache.isTemplate=!0,u.PartarumCache.setTemplates(s);let i=new C(o.template.name,o.template.surface,s,this.dom)}else if(typeof o.template=="string"&&u.PartarumCache.getTemplate(o.template)){u.DOMCache.roundCounter[u.DOMCache.counter]="templateStart",C.start=!0,C.startNumber=u.DOMCache.counter;let s=new C(o.template,u.PartarumCache.templatePaths[o.template],u.PartarumCache.templates[o.template],this.dom)}u.PartarumCache.isTemplate=!1}else for(let s in o)o.hasOwnProperty(s)&&s==="text"&&fetch(o[s]).then(function(i){if(!i.ok)throw new Error("HTTP error, status = "+i.status);return i.text()}).then(i=>{let n=document.createTextNode(i);this.dom.appendChild(n)}).catch(i=>{console.dir(i)});e=!0}else if(a===""&&t==="_partarum")console.dir(o),this.dom.appendChild(o);else{let s=1,i=!1;Array.isArray(o)&&(s=o.length,i=!0);for(let n=0;n<s;n++){let c=!1;if(i===!0||typeof o=="string")c=typeof o=="string"?o:typeof o[n]=="string"?o[n]:!1;else if(typeof o=="object"){c=!1;for(let l in o)if(o.hasOwnProperty(l)&&u.DOMCache.templateProps[l]){u.DOMCache.roundCounter[u.DOMCache.counter]="reference";let m=new S(u.DOMCache.templateProps[l]??o,this.dom,this.filePath)}}if(a!==""){u.DOMCache.roundCounter[u.DOMCache.counter]="node",r=document.createElement(a),c!==!1&&r.appendChild(document.createTextNode(c)),this.after?this.after.after(r):this.dom.appendChild(r);let l=Object.keys(o)&&i!==!0?o:i===!0?o[n]:null,m=new S(l,r,this.filePath)}e=null}}}else{let a=C.valueCache?.[t];if(a!==void 0){let s=this.surface[t];if(typeof a=="string"){let i=s._type,n=s._value;if(i==="_attributes")for(let c in n)n.hasOwnProperty(c)&&(c.startsWith("data_")&&(c=c.replace("_","-")),this.dom.setAttribute(c,C.valueCache[t]));else i==="text"?this.dom.appendChild(document.createTextNode(a)):i==="_callback"&&console.log("back")}else if(typeof a=="object"){if(Array.isArray(a)){let i=s._type;if(i==="_callback"){let n=s._callback;n(C.valueCache)}else{let n=a.length;for(let c=0;c<n;c++){let l=a[c],m=document.createElement(this.dom.nodeName),p=[];if(i==="HTMLCollection"){for(let f in l)if(l.hasOwnProperty(f))if(f==="_attributes"){for(let b in l[f])if(l[f].hasOwnProperty(b))if(b==="text"){let O=document.createTextNode(l[f][b]);c===0?this.dom.appendChild(O):m.appendChild(O)}else b=b.startsWith("data_")?b.replace("_","-"):b,c===0?this.dom.setAttribute(b,l[f][b]):m.setAttribute(b,l[f][b])}else{let b={[f]:l[f]};p.push(b)}if(c!==0?this.dom.parentElement.appendChild(m):m=null,p.length>0)for(let f of p){let b=new S(f,m??this.dom,this.filePath)}}else i==="_callback"||(this.dom.parentElement.appendChild(document.createElement(this.dom.nodeName)).innerHTML=l)}}}else for(let i in s)if(s.hasOwnProperty(i)){let n=s[i]?._type,c=s[i]?._value;if(n==="text"){let l=C.valueCache[t]?.[i];this.dom.appendChild(document.createTextNode(l))}else if(n==="_attributes"){let l=C.valueCache[t]?.[i];for(let m in c)c.hasOwnProperty(m)&&(m=m.startsWith("data_")?m.replace("_","-"):m,this.dom.setAttribute(m,l))}}}}else{u.DOMCache.templateProps?.[t]?u.DOMCache.zeroCounter():u.DOMCache.setTemplateProp({name:t,value:o});let s=e??new S(o,r??this.dom,this.filePath)}}}}}},C=class{constructor(e,t,o,r){C.setStaticTemplateProperties(),this.templateName=e,this.templateSurface=t,this.pathsObject={templateSurface:t,valuePath:o},this.loadDOM(e,this.pathsObject,r)}loadDOM(e,t,o){if(t.valuePath instanceof Object){C.templateScript[e]=t.templateSurface,C.templateValue[e]=t.valuePath,C.valueCache=t.valuePath,u.DOMCache.roundCounter[u.DOMCache.counter]="templateAsync";let r=new S(C.templateScript[e],o,"")}else{async function r(){for(let s in t)t.hasOwnProperty(s)&&s==="valuePath"&&await import("/"+t[s]).then(i=>{C.templateScript[e]=t.templateSurface,C.templateValue[e]=i.default,C.valueCache=i.default}).catch(i=>{console.dir(i)});u.DOMCache.roundCounter[u.DOMCache.counter]="templateAsync";let a=new S(C.templateScript[e],o,"")}r().then(()=>!0).catch(a=>{console.dir(a)})}}static start(){C.startNumber===void 0&&(C.startNumber=0)}static setStaticTemplateProperties(){C.templateScript===void 0&&(C.templateScript={}),C.templateValue===void 0&&(C.templateValue={}),C.valueCache===void 0&&(C.valueCache={}),C.templateCounter===void 0&&(C.templateCounter={})}static getTemplateScripts(e){return C.templateScript[e]}};export{u as Cache,g as Partarum,Be as Workshop};
//! für mehrere Events ausbauen
//# sourceMappingURL=Partarum.js.map
